@model TigerLineScores.Models.User
@{
    ViewBag.Title = "Tiger Line Scores - Register";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div style="border: 1px solid silver; border-radius: 5px; background-color: whitesmoke; padding: 20px; margin-bottom: 25px">
    <h3 style="font-style: italic; font-weight: bold; border-bottom:1px solid green; width: 350px ; float: left">TIGER LINE SCORES</h3>
    <img style="float: left; margin-left :25px" height="75" src="~/Images/Score_Card.jpg" />
    <h4 style="clear: both">REGISTER</h4>
</div>

<div class="col-md-12">
    <p>To register please enter a user name and your email address. A password will then be sent to you.<br/>
       Use this password to login in and start using Tiger Line Scores</p>
    <br/>
</div>



@using (Html.BeginForm("Register", "Register"))
{
    @Html.ValidationSummary(true)
    <div class="form-group">
        <label>User Name</label>
        @Html.TextBoxFor(x => x.UserName, new { @class = "form-control" })
        @Html.ValidationMessageFor(x => x.UserName, null, new { style = "color: red" })
        <br />
    </div>
    <div class="form-group">
        <label>Email Address</label>
        @Html.TextBoxFor(x => x.Email , new { @class = "form-control" })
        @Html.ValidationMessageFor(x => x.Email, null, new { style = "color: red" })
    </div>
    <div>
        <input class="btn btn-primary" type="submit" value="Register" />
    </div>

}
<br /><br /><br /><hr />

<script type="text/javascript">
    function showSuccesspopup() {
        document.getElementById("divSuccesspopup").className = "popupvisible-Success";
    }
    function hideSuccesspopup() {
        document.getElementById("divSuccesspopup").className = "popupnotvisible";
    }
    function gotoHomePage() {
        window.location = '@Url.Action("Index","Home")';
    }
    function showFailpopup() {
        document.getElementById("divFailpopup").className = "popupvisible-Danger";
    }
</script>

@* Successful Registration*@
<div id="divSuccesspopup" class="popupnotvisible">
    <img src="~/Images/tick.png" style="width: 30px" />&#160
    @TempData["Register"]
    <button class="btn btn-xs btn-success" style="float: right" onclick="gotoHomePage()">close</button>
</div>

@* Email already Registered*@
<div id="divFailpopup" class="popupnotvisible">
    <img src="~/Images/Exclamation.png" style="width: 30px" />&#160
    @TempData["Message"]
    <button class="btn btn-xs btn-danger" style="float: right" onclick="gotoHomePage()">close</button>
</div>

@if (TempData["Register"] != null)
{
    <script type="text/javascript">
      showSuccesspopup()
    </script>
}

@if (TempData["Message"] != null)
{
    <script type="text/javascript">
      showFailpopup()
    </script>
}


